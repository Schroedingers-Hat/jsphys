var ga=void 0;
function la(ja,g,V,A,o,M,Q,ka,j,a,f,r,ha,W,d,w,s,t,x,N,O,P,c,h,m,B,p,n,i,k,l,C,D,E,R,y,S,T,ia){for(var q=ga,u=g=ga,v=ga,F=ga,z=ga,f=ga,V=4*a*T(M),ja=T(Q-M);ja--;){f=A-o;v=(ha-r)/f;F=(w-d)/f;z=(x-t)/f;M=(k-n)/f;Q=(l-i)/f;0>A||o>a?u=g=0:(g=0<=o?o:0,u=A<a?A:a);f=r+v*(g-o);s=t+z*(g-o);W=d+F*(g-o);B=n+M*(g-o);p=i+Q*(g-o);q=V+4*S(g);for(g=T(u-g);g--;)u=4*((B|0)+a*(p|0)),y[q++]=f,y[q++]=s,y[q++]=W,y[q++]=ia[u],f+=v,s+=z,W+=F,B+=M,p+=Q;V+=4*a;o+=ka;A+=j;r+=N;t+=P;d+=h;n+=C;i+=D;ha+=O;x+=c;w+=m;k+=E;l+=R}}
window.drawTriTex=function(ja,g,V,A){for(var o,M,Q,ka=g.data,A=A.data,j,a,f,r=g.width,g=g.height,ha=Math.round,W=Math.floor,d,w,s,t,x,N,O,P,c,h,m,B,p,n,i,k,l,C,D,E,R,y,S,T,ia,q,u,v,F,z,G,b,U,e,H,I,J,X,Y,Z,$,aa,ba,K,L,ca,da,ea,fa;V--;){d=ja[V];j=0;a=1;f=2;d[1+2*j]>d[1+2*a]&&(a=(j+=a-=j)-a);d[1+2*a]>d[1+2*f]&&(f=(a+=f-=a)-f);d[1+2*j]>d[1+2*a]&&(a=(j+=a-=j)-a);h=d[0+2*j];c=d[1+2*j];G=d[0+2*a];b=d[1+2*a];U=d[0+2*f];e=d[1+2*f];H=d[6+3*j];I=d[7+3*j];J=d[8+3*j];X=d[6+3*a];Y=d[7+3*a];Z=d[8+3*a];$=d[6+3*f];
aa=d[7+3*f];ba=d[8+3*f];K=d[15+2*j];L=d[16+2*j];ca=d[15+2*a];da=d[16+2*a];ea=d[15+2*f];fa=d[16+2*f];n=(b-c)/(e-c);p=n*(U-h)+h;if((c<=g||0<=b)&&(0<=h||h<=r||0<=p||p<=r||0<=G||G<=r)&&c!==b)i=n*($-H)+H,k=n*(aa-I)+I,l=n*(ba-J)+J,m=n*(ea-K)+K,a=n*(fa-L)+L,G<p?(d=(G-h)/(b-c),w=(p-h)/(b-c),s=(X-H)/(b-c),t=(Y-I)/(b-c),x=(Z-J)/(b-c),N=(i-H)/(b-c),O=(k-I)/(b-c),P=(l-J)/(b-c),i=(ca-K)/(b-c),l=(da-L)/(b-c),k=(m-K)/(b-c),z=(a-L)/(b-c)):(w=(G-h)/(b-c),d=(p-h)/(b-c),N=(X-H)/(b-c),O=(Y-I)/(b-c),P=(Z-J)/(b-c),s=(i-
H)/(b-c),t=(k-I)/(b-c),x=(l-J)/(b-c),k=(ca-K)/(b-c),z=(da-L)/(b-c),i=(m-K)/(b-c),l=(a-L)/(b-c)),0>b||c>g?B=m=0:(m=0<=c?c:0,B=b<g?b:g),a=m-c,c=h+d*a,h+=w*a,C=H+s*a,D=I+t*a,E=J+x*a,q=K+i*a,v=L+l*a,o=C,M=D,Q=E,T=q,ia=v,R=H+N*a,y=I+O*a,S=J+P*a,u=K+k*a,F=L+z*a,la(j,a,f,h,c,m,B,d,w,r,o,C,R,Q,E,S,M,D,y,s,N,t,O,x,P,T,ia,q,v,u,F,i,l,k,z,ka,ha,W,A);if((b<=g||0<=e)&&(0<=G||G<=r||0<=p||p<=r||0<=U||U<=r)&&b!==e)i=n*($-H)+H,k=n*(aa-I)+I,l=n*(ba-J)+J,m=n*(ea-K)+K,a=n*(fa-L)+L,p<G?(c=p,h=G,C=i,D=k,E=l,R=X,y=Y,S=
Z,q=m,v=a,u=ca,F=da,d=(U-c)/(e-b),w=(U-h)/(e-b),s=($-i)/(e-b),t=(aa-k)/(e-b),x=(ba-l)/(e-b),N=($-X)/(e-b),O=(aa-Y)/(e-b),P=(ba-Z)/(e-b),i=(ea-m)/(e-b),l=(fa-a)/(e-b),k=(ea-ca)/(e-b),z=(fa-da)/(e-b)):(c=G,h=p,R=i,y=k,S=l,C=X,D=Y,E=Z,u=m,F=a,q=ca,v=da,d=(U-c)/(e-b),w=(U-h)/(e-b),N=($-i)/(e-b),O=(aa-k)/(e-b),P=(ba-l)/(e-b),s=($-X)/(e-b),t=(aa-Y)/(e-b),x=(ba-Z)/(e-b),k=(ea-m)/(e-b),z=(fa-a)/(e-b),i=(ea-ca)/(e-b),l=(fa-da)/(e-b)),0>e||b>g?B=m=0:(m=0<=b?b:0,B=e<g?e:g),a=m-b,c+=d*a,h+=w*a,C+=s*a,D+=t*a,
E+=x*a,q+=i*a,v+=l*a,T=q,ia=v,o=C,M=D,Q=E,u+=k*a,F+=z*a,R+=N*a,y+=O*a,S+=P*a,la(j,a,f,h,c,m,B,d,w,r,o,C,R,Q,E,S,M,D,y,s,N,t,O,x,P,T,ia,q,v,u,F,i,l,k,z,ka,ha,W,A)}};
