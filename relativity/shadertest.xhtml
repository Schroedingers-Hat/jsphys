<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <style>
      body {
        background: black;
      }
      canvas {
        background: white;
      }
  </style>

    <script type="text/javascript" src="js/shader.js"></script>
    <script>
        <![CDATA[
        function go() {
            var canvas = document.getElementById('myCanvasElt');
            var ctx = canvas.getContext('2d');
            var canvasData = ctx.createImageData(canvas.width, canvas.height);
            var scene = 3;
            var triArr = new Array();
            var tempy = new Array(3);
            var tempArr = [];




            var offsetx, offsety;
            rend = new Renderer(scene,ctx);
            for (var j = 0; j < 100000; j++){
            tempArr[0] = [];
            tempArr[1] = [];
            tempArr[2] = [];
            offsetx = Math.floor(Math.random() * 800) + 100;
            offsety = Math.floor(Math.random() * 500) + 50;

            tempArr[0][0] = Math.floor(Math.random() * 10) + offsetx;
            tempArr[0][1] = Math.floor(Math.random() * 10) + offsety;
            tempArr[1][0] = Math.floor(Math.random() * 10) + offsetx;
            tempArr[1][1] = Math.floor(Math.random() * 10) + offsety;
            tempArr[2][0] = Math.floor(Math.random() * 10) + offsetx;
            tempArr[2][1] = Math.floor(Math.random() * 10) + offsety;

            tempArr[0][2] = 255;
            tempArr[0][3] = 0;
            tempArr[0][4] = 0;

            tempArr[1][2] = 0;
            tempArr[1][3] = 0;
            tempArr[1][4] = 255;

            tempArr[2][2] = 0;
            tempArr[2][3] = 255;
            tempArr[2][4] = 0;
//            tempy[0] = Math.floor(Math.random() * 30) + offsety;
//            tempArr[2] = Math.floor(Math.random() * 50) + offsetx;
//            tempy[1] = Math.floor(Math.random() * 30) + offsety;
//            tempArr[4] = Math.floor(Math.random() * 50) + offsetx;
//            tempy[2] = Math.floor(Math.random() * 30) + offsety;
//            tempy.sort(function(a,b){return a-b;});
//            tempArr[1] = tempy[0];
//            tempArr[3] = tempy[1];
//            tempArr[5] = tempy[2];
//            for ( var i = 6; i <= 15; i++){
//                tempArr[i] = Math.floor(Math.random() * 250);
//            }

            triArr.push(tempArr.concat());
        }
        console.profile('moo');
        drawTri(triArr,canvasData);
        console.profileEnd('moo');
        ctx.putImageData(canvasData, 0, 0);
        }
        ]]>
    </script>

</head>

<body onload="go()">
    <canvas id="myCanvasElt" width="1000" height="600"></canvas>
</body>
</html>
