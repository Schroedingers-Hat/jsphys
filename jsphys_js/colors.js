function dopplerShiftColor(colorTemp, velocity)
{
    var dopplerFactor = Math.sqrt((1+(velocity/c))/(1-(velocity/c)));
    return colorTemp * dopplerFactor;
}

function tempToColor(colorTemp)
{
    if (colorTemp > MAX_COLOR_TEMP)
        return colorTempTable[MAX_COLOR_TEMP.toString()];
    if (colorTemp < MIN_COLOR_TEMP)
        return colorTempTable[MIN_COLOR_TEMP.toString()];
    
    // We need to match the color temperature, which can be any arbitrary integer,
    // with the nearest entry in the colorTempTable.
    return colorTempTable[(Math.round(colorTemp / 100) * 100).toString()];
}


MIN_COLOR_TEMP = 1000;
MAX_COLOR_TEMP = 40000;

var colorTempTable = new Object();

colorTempTable["1000"] = "#ff3800"
colorTempTable["1100"] = "#ff4700"
colorTempTable["1200"] = "#ff5300"
colorTempTable["1300"] = "#ff5d00"
colorTempTable["1400"] = "#ff6500"
colorTempTable["1500"] = "#ff6d00"
colorTempTable["1600"] = "#ff7300"
colorTempTable["1700"] = "#ff7900"
colorTempTable["1800"] = "#ff7e00"
colorTempTable["1900"] = "#ff8300"
colorTempTable["2000"] = "#ff8912"
colorTempTable["2100"] = "#ff8e21"
colorTempTable["2200"] = "#ff932c"
colorTempTable["2300"] = "#ff9836"
colorTempTable["2400"] = "#ff9d3f"
colorTempTable["2500"] = "#ffa148"
colorTempTable["2600"] = "#ffa54f"
colorTempTable["2700"] = "#ffa957"
colorTempTable["2800"] = "#ffad5e"
colorTempTable["2900"] = "#ffb165"
colorTempTable["3000"] = "#ffb46b"
colorTempTable["3100"] = "#ffb872"
colorTempTable["3200"] = "#ffbb78"
colorTempTable["3300"] = "#ffbe7e"
colorTempTable["3400"] = "#ffc184"
colorTempTable["3500"] = "#ffc489"
colorTempTable["3600"] = "#ffc78f"
colorTempTable["3700"] = "#ffc994"
colorTempTable["3800"] = "#ffcc99"
colorTempTable["3900"] = "#ffce9f"
colorTempTable["4000"] = "#ffd1a3"
colorTempTable["4100"] = "#ffd3a8"
colorTempTable["4200"] = "#ffd5ad"
colorTempTable["4300"] = "#ffd7b1"
colorTempTable["4400"] = "#ffd9b6"
colorTempTable["4500"] = "#ffdbba"
colorTempTable["4600"] = "#ffddbe"
colorTempTable["4700"] = "#ffdfc2"
colorTempTable["4800"] = "#ffe1c6"
colorTempTable["4900"] = "#ffe3ca"
colorTempTable["5000"] = "#ffe4ce"
colorTempTable["5100"] = "#ffe6d2"
colorTempTable["5200"] = "#ffe8d5"
colorTempTable["5300"] = "#ffe9d9"
colorTempTable["5400"] = "#ffebdc"
colorTempTable["5500"] = "#ffece0"
colorTempTable["5600"] = "#ffeee3"
colorTempTable["5700"] = "#ffefe6"
colorTempTable["5800"] = "#fff0e9"
colorTempTable["5900"] = "#fff2ec"
colorTempTable["6000"] = "#fff3ef"
colorTempTable["6100"] = "#fff4f2"
colorTempTable["6200"] = "#fff5f5"
colorTempTable["6300"] = "#fff6f8"
colorTempTable["6400"] = "#fff8fb"
colorTempTable["6500"] = "#fff9fd"
colorTempTable["6600"] = "#fef9ff"
colorTempTable["6700"] = "#fcf7ff"
colorTempTable["6800"] = "#f9f6ff"
colorTempTable["6900"] = "#f7f5ff"
colorTempTable["7000"] = "#f5f3ff"
colorTempTable["7100"] = "#f3f2ff"
colorTempTable["7200"] = "#f0f1ff"
colorTempTable["7300"] = "#eff0ff"
colorTempTable["7400"] = "#edefff"
colorTempTable["7500"] = "#ebeeff"
colorTempTable["7600"] = "#e9edff"
colorTempTable["7700"] = "#e7ecff"
colorTempTable["7800"] = "#e6ebff"
colorTempTable["7900"] = "#e4eaff"
colorTempTable["8000"] = "#e3e9ff"
colorTempTable["8100"] = "#e1e8ff"
colorTempTable["8200"] = "#e0e7ff"
colorTempTable["8300"] = "#dee6ff"
colorTempTable["8400"] = "#dde6ff"
colorTempTable["8500"] = "#dce5ff"
colorTempTable["8600"] = "#dae4ff"
colorTempTable["8700"] = "#d9e3ff"
colorTempTable["8800"] = "#d8e3ff"
colorTempTable["8900"] = "#d7e2ff"
colorTempTable["9000"] = "#d6e1ff"
colorTempTable["9100"] = "#d4e1ff"
colorTempTable["9200"] = "#d3e0ff"
colorTempTable["9300"] = "#d2dfff"
colorTempTable["9400"] = "#d1dfff"
colorTempTable["9500"] = "#d0deff"
colorTempTable["9600"] = "#cfddff"
colorTempTable["9700"] = "#cfddff"
colorTempTable["9800"] = "#cedcff"
colorTempTable["9900"] = "#cddcff"
colorTempTable["10000"] = "#ccdbff"
colorTempTable["10100"] = "#cbdbff"
colorTempTable["10200"] = "#cadaff"
colorTempTable["10300"] = "#c9daff"
colorTempTable["10400"] = "#c9d9ff"
colorTempTable["10500"] = "#c8d9ff"
colorTempTable["10600"] = "#c7d8ff"
colorTempTable["10700"] = "#c7d8ff"
colorTempTable["10800"] = "#c6d8ff"
colorTempTable["10900"] = "#c5d7ff"
colorTempTable["11000"] = "#c4d7ff"
colorTempTable["11100"] = "#c4d6ff"
colorTempTable["11200"] = "#c3d6ff"
colorTempTable["11300"] = "#c3d6ff"
colorTempTable["11400"] = "#c2d5ff"
colorTempTable["11500"] = "#c1d5ff"
colorTempTable["11600"] = "#c1d4ff"
colorTempTable["11700"] = "#c0d4ff"
colorTempTable["11800"] = "#c0d4ff"
colorTempTable["11900"] = "#bfd3ff"
colorTempTable["12000"] = "#bfd3ff"
colorTempTable["12100"] = "#bed3ff"
colorTempTable["12200"] = "#bed2ff"
colorTempTable["12300"] = "#bdd2ff"
colorTempTable["12400"] = "#bdd2ff"
colorTempTable["12500"] = "#bcd2ff"
colorTempTable["12600"] = "#bcd1ff"
colorTempTable["12700"] = "#bbd1ff"
colorTempTable["12800"] = "#bbd1ff"
colorTempTable["12900"] = "#bad0ff"
colorTempTable["13000"] = "#bad0ff"
colorTempTable["13100"] = "#b9d0ff"
colorTempTable["13200"] = "#b9d0ff"
colorTempTable["13300"] = "#b9cfff"
colorTempTable["13400"] = "#b8cfff"
colorTempTable["13500"] = "#b8cfff"
colorTempTable["13600"] = "#b7cfff"
colorTempTable["13700"] = "#b7ceff"
colorTempTable["13800"] = "#b7ceff"
colorTempTable["13900"] = "#b6ceff"
colorTempTable["14000"] = "#b6ceff"
colorTempTable["14100"] = "#b6cdff"
colorTempTable["14200"] = "#b5cdff"
colorTempTable["14300"] = "#b5cdff"
colorTempTable["14400"] = "#b5cdff"
colorTempTable["14500"] = "#b4cdff"
colorTempTable["14600"] = "#b4ccff"
colorTempTable["14700"] = "#b4ccff"
colorTempTable["14800"] = "#b3ccff"
colorTempTable["14900"] = "#b3ccff"
colorTempTable["15000"] = "#b3ccff"
colorTempTable["15100"] = "#b2cbff"
colorTempTable["15200"] = "#b2cbff"
colorTempTable["15300"] = "#b2cbff"
colorTempTable["15400"] = "#b2cbff"
colorTempTable["15500"] = "#b1cbff"
colorTempTable["15600"] = "#b1caff"
colorTempTable["15700"] = "#b1caff"
colorTempTable["15800"] = "#b1caff"
colorTempTable["15900"] = "#b0caff"
colorTempTable["16000"] = "#b0caff"
colorTempTable["16100"] = "#b0caff"
colorTempTable["16200"] = "#afc9ff"
colorTempTable["16300"] = "#afc9ff"
colorTempTable["16400"] = "#afc9ff"
colorTempTable["16500"] = "#afc9ff"
colorTempTable["16600"] = "#afc9ff"
colorTempTable["16700"] = "#aec9ff"
colorTempTable["16800"] = "#aec9ff"
colorTempTable["16900"] = "#aec8ff"
colorTempTable["17000"] = "#aec8ff"
colorTempTable["17100"] = "#adc8ff"
colorTempTable["17200"] = "#adc8ff"
colorTempTable["17300"] = "#adc8ff"
colorTempTable["17400"] = "#adc8ff"
colorTempTable["17500"] = "#adc8ff"
colorTempTable["17600"] = "#acc7ff"
colorTempTable["17700"] = "#acc7ff"
colorTempTable["17800"] = "#acc7ff"
colorTempTable["17900"] = "#acc7ff"
colorTempTable["18000"] = "#acc7ff"
colorTempTable["18100"] = "#abc7ff"
colorTempTable["18200"] = "#abc7ff"
colorTempTable["18300"] = "#abc7ff"
colorTempTable["18400"] = "#abc6ff"
colorTempTable["18500"] = "#abc6ff"
colorTempTable["18600"] = "#aac6ff"
colorTempTable["18700"] = "#aac6ff"
colorTempTable["18800"] = "#aac6ff"
colorTempTable["18900"] = "#aac6ff"
colorTempTable["19000"] = "#aac6ff"
colorTempTable["19100"] = "#aac6ff"
colorTempTable["19200"] = "#a9c6ff"
colorTempTable["19300"] = "#a9c5ff"
colorTempTable["19400"] = "#a9c5ff"
colorTempTable["19500"] = "#a9c5ff"
colorTempTable["19600"] = "#a9c5ff"
colorTempTable["19700"] = "#a9c5ff"
colorTempTable["19800"] = "#a9c5ff"
colorTempTable["19900"] = "#a8c5ff"
colorTempTable["20000"] = "#a8c5ff"
colorTempTable["20100"] = "#a8c5ff"
colorTempTable["20200"] = "#a8c5ff"
colorTempTable["20300"] = "#a8c4ff"
colorTempTable["20400"] = "#a8c4ff"
colorTempTable["20500"] = "#a8c4ff"
colorTempTable["20600"] = "#a7c4ff"
colorTempTable["20700"] = "#a7c4ff"
colorTempTable["20800"] = "#a7c4ff"
colorTempTable["20900"] = "#a7c4ff"
colorTempTable["21000"] = "#a7c4ff"
colorTempTable["21100"] = "#a7c4ff"
colorTempTable["21200"] = "#a7c4ff"
colorTempTable["21300"] = "#a6c4ff"
colorTempTable["21400"] = "#a6c3ff"
colorTempTable["21500"] = "#a6c3ff"
colorTempTable["21600"] = "#a6c3ff"
colorTempTable["21700"] = "#a6c3ff"
colorTempTable["21800"] = "#a6c3ff"
colorTempTable["21900"] = "#a6c3ff"
colorTempTable["22000"] = "#a6c3ff"
colorTempTable["22100"] = "#a5c3ff"
colorTempTable["22200"] = "#a5c3ff"
colorTempTable["22300"] = "#a5c3ff"
colorTempTable["22400"] = "#a5c3ff"
colorTempTable["22500"] = "#a5c3ff"
colorTempTable["22600"] = "#a5c3ff"
colorTempTable["22700"] = "#a5c2ff"
colorTempTable["22800"] = "#a5c2ff"
colorTempTable["22900"] = "#a5c2ff"
colorTempTable["23000"] = "#a4c2ff"
colorTempTable["23100"] = "#a4c2ff"
colorTempTable["23200"] = "#a4c2ff"
colorTempTable["23300"] = "#a4c2ff"
colorTempTable["23400"] = "#a4c2ff"
colorTempTable["23500"] = "#a4c2ff"
colorTempTable["23600"] = "#a4c2ff"
colorTempTable["23700"] = "#a4c2ff"
colorTempTable["23800"] = "#a4c2ff"
colorTempTable["23900"] = "#a4c2ff"
colorTempTable["24000"] = "#a3c2ff"
colorTempTable["24100"] = "#a3c2ff"
colorTempTable["24200"] = "#a3c1ff"
colorTempTable["24300"] = "#a3c1ff"
colorTempTable["24400"] = "#a3c1ff"
colorTempTable["24500"] = "#a3c1ff"
colorTempTable["24600"] = "#a3c1ff"
colorTempTable["24700"] = "#a3c1ff"
colorTempTable["24800"] = "#a3c1ff"
colorTempTable["24900"] = "#a3c1ff"
colorTempTable["25000"] = "#a3c1ff"
colorTempTable["25100"] = "#a2c1ff"
colorTempTable["25200"] = "#a2c1ff"
colorTempTable["25300"] = "#a2c1ff"
colorTempTable["25400"] = "#a2c1ff"
colorTempTable["25500"] = "#a2c1ff"
colorTempTable["25600"] = "#a2c1ff"
colorTempTable["25700"] = "#a2c1ff"
colorTempTable["25800"] = "#a2c1ff"
colorTempTable["25900"] = "#a2c0ff"
colorTempTable["26000"] = "#a2c0ff"
colorTempTable["26100"] = "#a2c0ff"
colorTempTable["26200"] = "#a2c0ff"
colorTempTable["26300"] = "#a2c0ff"
colorTempTable["26400"] = "#a1c0ff"
colorTempTable["26500"] = "#a1c0ff"
colorTempTable["26600"] = "#a1c0ff"
colorTempTable["26700"] = "#a1c0ff"
colorTempTable["26800"] = "#a1c0ff"
colorTempTable["26900"] = "#a1c0ff"
colorTempTable["27000"] = "#a1c0ff"
colorTempTable["27100"] = "#a1c0ff"
colorTempTable["27200"] = "#a1c0ff"
colorTempTable["27300"] = "#a1c0ff"
colorTempTable["27400"] = "#a1c0ff"
colorTempTable["27500"] = "#a1c0ff"
colorTempTable["27600"] = "#a1c0ff"
colorTempTable["27700"] = "#a1c0ff"
colorTempTable["27800"] = "#a0c0ff"
colorTempTable["27900"] = "#a0c0ff"
colorTempTable["28000"] = "#a0bfff"
colorTempTable["28100"] = "#a0bfff"
colorTempTable["28200"] = "#a0bfff"
colorTempTable["28300"] = "#a0bfff"
colorTempTable["28400"] = "#a0bfff"
colorTempTable["28500"] = "#a0bfff"
colorTempTable["28600"] = "#a0bfff"
colorTempTable["28700"] = "#a0bfff"
colorTempTable["28800"] = "#a0bfff"
colorTempTable["28900"] = "#a0bfff"
colorTempTable["29000"] = "#a0bfff"
colorTempTable["29100"] = "#a0bfff"
colorTempTable["29200"] = "#a0bfff"
colorTempTable["29300"] = "#9fbfff"
colorTempTable["29400"] = "#9fbfff"
colorTempTable["29500"] = "#9fbfff"
colorTempTable["29600"] = "#9fbfff"
colorTempTable["29700"] = "#9fbfff"
colorTempTable["29800"] = "#9fbfff"
colorTempTable["29900"] = "#9fbfff"
colorTempTable["30000"] = "#9fbfff"
colorTempTable["30100"] = "#9fbfff"
colorTempTable["30200"] = "#9fbfff"
colorTempTable["30300"] = "#9fbfff"
colorTempTable["30400"] = "#9fbeff"
colorTempTable["30500"] = "#9fbeff"
colorTempTable["30600"] = "#9fbeff"
colorTempTable["30700"] = "#9fbeff"
colorTempTable["30800"] = "#9fbeff"
colorTempTable["30900"] = "#9fbeff"
colorTempTable["31000"] = "#9fbeff"
colorTempTable["31100"] = "#9ebeff"
colorTempTable["31200"] = "#9ebeff"
colorTempTable["31300"] = "#9ebeff"
colorTempTable["31400"] = "#9ebeff"
colorTempTable["31500"] = "#9ebeff"
colorTempTable["31600"] = "#9ebeff"
colorTempTable["31700"] = "#9ebeff"
colorTempTable["31800"] = "#9ebeff"
colorTempTable["31900"] = "#9ebeff"
colorTempTable["32000"] = "#9ebeff"
colorTempTable["32100"] = "#9ebeff"
colorTempTable["32200"] = "#9ebeff"
colorTempTable["32300"] = "#9ebeff"
colorTempTable["32400"] = "#9ebeff"
colorTempTable["32500"] = "#9ebeff"
colorTempTable["32600"] = "#9ebeff"
colorTempTable["32700"] = "#9ebeff"
colorTempTable["32800"] = "#9ebeff"
colorTempTable["32900"] = "#9ebeff"
colorTempTable["33000"] = "#9ebeff"
colorTempTable["33100"] = "#9ebeff"
colorTempTable["33200"] = "#9dbeff"
colorTempTable["33300"] = "#9dbeff"
colorTempTable["33400"] = "#9dbdff"
colorTempTable["33500"] = "#9dbdff"
colorTempTable["33600"] = "#9dbdff"
colorTempTable["33700"] = "#9dbdff"
colorTempTable["33800"] = "#9dbdff"
colorTempTable["33900"] = "#9dbdff"
colorTempTable["34000"] = "#9dbdff"
colorTempTable["34100"] = "#9dbdff"
colorTempTable["34200"] = "#9dbdff"
colorTempTable["34300"] = "#9dbdff"
colorTempTable["34400"] = "#9dbdff"
colorTempTable["34500"] = "#9dbdff"
colorTempTable["34600"] = "#9dbdff"
colorTempTable["34700"] = "#9dbdff"
colorTempTable["34800"] = "#9dbdff"
colorTempTable["34900"] = "#9dbdff"
colorTempTable["35000"] = "#9dbdff"
colorTempTable["35100"] = "#9dbdff"
colorTempTable["35200"] = "#9dbdff"
colorTempTable["35300"] = "#9dbdff"
colorTempTable["35400"] = "#9dbdff"
colorTempTable["35500"] = "#9dbdff"
colorTempTable["35600"] = "#9cbdff"
colorTempTable["35700"] = "#9cbdff"
colorTempTable["35800"] = "#9cbdff"
colorTempTable["35900"] = "#9cbdff"
colorTempTable["36000"] = "#9cbdff"
colorTempTable["36100"] = "#9cbdff"
colorTempTable["36200"] = "#9cbdff"
colorTempTable["36300"] = "#9cbdff"
colorTempTable["36400"] = "#9cbdff"
colorTempTable["36500"] = "#9cbdff"
colorTempTable["36600"] = "#9cbdff"
colorTempTable["36700"] = "#9cbdff"
colorTempTable["36800"] = "#9cbdff"
colorTempTable["36900"] = "#9cbdff"
colorTempTable["37000"] = "#9cbdff"
colorTempTable["37100"] = "#9cbdff"
colorTempTable["37200"] = "#9cbcff"
colorTempTable["37300"] = "#9cbcff"
colorTempTable["37400"] = "#9cbcff"
colorTempTable["37500"] = "#9cbcff"
colorTempTable["37600"] = "#9cbcff"
colorTempTable["37700"] = "#9cbcff"
colorTempTable["37800"] = "#9cbcff"
colorTempTable["37900"] = "#9cbcff"
colorTempTable["38000"] = "#9cbcff"
colorTempTable["38100"] = "#9cbcff"
colorTempTable["38200"] = "#9cbcff"
colorTempTable["38300"] = "#9cbcff"
colorTempTable["38400"] = "#9bbcff"
colorTempTable["38500"] = "#9bbcff"
colorTempTable["38600"] = "#9bbcff"
colorTempTable["38700"] = "#9bbcff"
colorTempTable["38800"] = "#9bbcff"
colorTempTable["38900"] = "#9bbcff"
colorTempTable["39000"] = "#9bbcff"
colorTempTable["39100"] = "#9bbcff"
colorTempTable["39200"] = "#9bbcff"
colorTempTable["39300"] = "#9bbcff"
colorTempTable["39400"] = "#9bbcff"
colorTempTable["39500"] = "#9bbcff"
colorTempTable["39600"] = "#9bbcff"
colorTempTable["39700"] = "#9bbcff"
colorTempTable["39800"] = "#9bbcff"
colorTempTable["39900"] = "#9bbcff"
colorTempTable["40000"] = "#9bbcff"
